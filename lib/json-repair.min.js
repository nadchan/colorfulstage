// ---------------------------------------
// Get Code from https://www.npmjs.com/package/jsonrepair?activeTab=code
// On /jsonrepair/lib/umd/jsonrepair.js
// ---------------------------------------
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).JSONRepair={})}(this,function(t){"use strict";class n extends Error{constructor(t,n){super("".concat(t," at position ").concat(n)),this.position=n}}function e(t){return/^[0-9A-Fa-f]$/.test(t)}function r(t){return t>="0"&&t<="9"}function u(t){return t>=" "}function i(t){return",:[]/{}()\n+".includes(t)}function f(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t}function o(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t||t>="0"&&t<="9"}let c=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,l=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function $(t){return",[]/{}\n+".includes(t)}function s(t){return b(t)||a.test(t)}let a=/^[[{\w-]$/;function h(t){return"\n"===t||"\r"===t||"	"===t||"\b"===t||"\f"===t}function g(t,n){let e=t.charCodeAt(n);return 32===e||10===e||9===e||13===e}function _(t,n){let e=t.charCodeAt(n);return 32===e||9===e||13===e}function d(t,n){let e=t.charCodeAt(n);return 160===e||e>=8192&&e<=8202||8239===e||8287===e||12288===e}function b(t){return x(t)||w(t)}function x(t){return'"'===t||"“"===t||"”"===t}function p(t){return'"'===t}function w(t){return"'"===t||"‘"===t||"’"===t||"`"===t||"\xb4"===t}function A(t){return"'"===t}function v(t,n){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.lastIndexOf(n);return -1!==r?t.substring(0,r)+(e?"":t.substring(r+1)):t}function y(t,n){let e=t.length;if(!g(t,e-1))return t+n;for(;g(t,e-1);)e--;return t.substring(0,e)+n+t.substring(e)}function j(t,n,e){return t.substring(0,n)+t.substring(n+e)}let k={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},C={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};function O(t,n){return"*"===t[n]&&"/"===t[n+1]}t.JSONRepairError=n,t.jsonrepair=function t(a){var z;let I=0,N="";S();let Z=E();Z||function t(){throw new n("Unexpected end of json string",a.length)}(),S();let m=U(",");for((m&&F(),s(a[I])&&(z=N,/[,\n][ \t\r]*$/.test(z)))?(m||(N=y(N,",")),function t(){let n=!0,e=!0;for(;e;){if(n)n=!1;else{let r=U(",");r||(N=y(N,","))}e=E()}e||(N=v(N,",")),N="[\n".concat(N,"\n]")}()):m&&(N=v(N,","));"}"===a[I]||"]"===a[I];)I++,F();if(I>=a.length)return N;function E(){F();let t=function t(){if("{"===a[I]){N+="{",I++,F(),T(",")&&F();let n=!0;for(;I<a.length&&"}"!==a[I];){let e;n?(e=!0,n=!1):((e=U(","))||(N=y(N,",")),F()),B();let r=D()||K(!0);if(!r){"}"===a[I]||"{"===a[I]||"]"===a[I]||"["===a[I]||void 0===a[I]?N=v(N,","):V();break}F();let u=U(":"),i=I>=a.length;u||(s(a[I])||i?N=y(N,":"):W());let f=E();f||(u||i?N+="null":W())}return"}"===a[I]?(N+="}",I++):N=y(N,"}"),!0}return!1}()||function t(){if("["===a[I]){N+="[",I++,F(),T(",")&&F();let n=!0;for(;I<a.length&&"]"!==a[I];){if(n)n=!1;else{let e=U(",");e||(N=y(N,","))}B();let r=E();if(!r){N=v(N,",");break}}return"]"===a[I]?(N+="]",I++):N=y(N,"]"),!0}return!1}()||D()||function t(){let n=I;if("-"===a[I]){if(I++,M())return P(n),!0;if(!r(a[I]))return I=n,!1}for(;r(a[I]);)I++;if("."===a[I]){if(I++,M())return P(n),!0;if(!r(a[I]))return I=n,!1;for(;r(a[I]);)I++}if("e"===a[I]||"E"===a[I]){if(("-"===a[++I]||"+"===a[I])&&I++,M())return P(n),!0;if(!r(a[I]))return I=n,!1;for(;r(a[I]);)I++}if(!M())return I=n,!1;if(I>n){let e=a.slice(n,I),u=/^0\d/.test(e);return N+=u?'"'.concat(e,'"'):e,!0}return!1}()||H("true","true")||H("false","false")||H("null","null")||H("True","true")||H("False","false")||H("None","null")||K(!1)||function t(){if("/"===a[I]){let n=I;for(I++;I<a.length&&("/"!==a[I]||"\\"===a[I-1]);)I++;return I++,N+='"'.concat(a.substring(n,I),'"'),!0}}();return F(),t}function F(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=I,e=J(t);do(e=R())&&(e=J(t));while(e);return I>n}function J(t){let n=t?g:_,e="";for(;;)if(n(a,I))e+=a[I],I++;else if(d(a,I))e+=" ",I++;else break;return e.length>0&&(N+=e,!0)}function R(){if("/"===a[I]&&"*"===a[I+1]){for(;I<a.length&&!O(a,I);)I++;return I+=2,!0}if("/"===a[I]&&"/"===a[I+1]){for(;I<a.length&&"\n"!==a[I];)I++;return!0}return!1}function S(){if("```"===a.slice(I,I+3)){if(f(a[I+=3]))for(;I<a.length&&o(a[I]);)I++;return F(),!0}return!1}function U(t){return a[I]===t&&(N+=a[I],I++,!0)}function T(t){return a[I]===t&&(I++,!0)}function q(){return T("\\")}function B(){return F(),"."===a[I]&&"."===a[I+1]&&"."===a[I+2]&&(I+=3,F(),T(","),!0)}function D(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,f="\\"===a[I];if(f&&(I++,f=!0),b(a[I])){let o=p(a[I])?p:A(a[I])?A:w(a[I])?w:x,s=I,g=N.length,_='"';for(I++;;){if(I>=a.length){let d=L(I-1);if(!t&&i(a.charAt(d)))return I=s,N=N.substring(0,g),D(!0);return N+=_=y(_,'"'),!0}if(I===n)return N+=_=y(_,'"'),!0;if(o(a[I])){let v=I,j=_.length;if(_+='"',I++,N+=_,F(!1),t||I>=a.length||i(a[I])||b(a[I])||r(a[I]))return G(),!0;let O=L(v-1),z=a.charAt(O);if(","===z)return I=s,N=N.substring(0,g),D(!1,O);if(i(z))return I=s,N=N.substring(0,g),D(!0);N=N.substring(0,g),I=v+1,_="".concat(_.substring(0,j),"\\").concat(_.substring(j))}else if(t&&$(a[I])){if(":"===a[I-1]&&c.test(a.substring(s+1,I+2)))for(;I<a.length&&l.test(a[I]);)_+=a[I],I++;return N+=_=y(_,'"'),G(),!0}else if("\\"===a[I]){let Z=a.charAt(I+1),m=C[Z];if(void 0!==m)_+=a.slice(I,I+2),I+=2;else if("u"===Z){let E=2;for(;E<6&&e(a[I+E]);)E++;6===E?(_+=a.slice(I,I+6),I+=6):I+E>=a.length?I=a.length:X()}else _+=Z,I+=2}else{let J=a.charAt(I);'"'===J&&"\\"!==a[I-1]?(_+="\\".concat(J),I++):h(J)?(_+=k[J],I++):(u(J)||Q(J),_+=J,I++)}f&&q()}}return!1}function G(){let t=!1;for(F();"+"===a[I];){t=!0,I++,F(),N=v(N,'"',!0);let n=N.length,e=D();N=e?j(N,n,1):y(N,'"')}return t}function H(t,n){return a.slice(I,I+t.length)===t&&(N+=n,I+=t.length,!0)}function K(t){let n=I;if(f(a[I])){for(;I<a.length&&o(a[I]);)I++;let e=I;for(;g(a,e);)e++;if("("===a[e])return I=e+1,E(),")"===a[I]&&";"===a[++I]&&I++,!0}for(;I<a.length&&!$(a[I])&&!b(a[I])&&(!t||":"!==a[I]);)I++;if(":"===a[I-1]&&c.test(a.substring(n,I+2)))for(;I<a.length&&l.test(a[I]);)I++;if(I>n){for(;g(a,I-1)&&I>0;)I--;let r=a.slice(n,I);return N+="undefined"===r?"null":JSON.stringify(r),'"'===a[I]&&I++,!0}}function L(t){let n=t;for(;n>0&&g(a,n);)n--;return n}function M(){return I>=a.length||i(a[I])||g(a,I)}function P(t){N+="".concat(a.slice(t,I),"0")}function Q(t){throw new n("Invalid character ".concat(JSON.stringify(t)),I)}function V(){throw new n("Object key expected",I)}function W(){throw new n("Colon expected",I)}function X(){let t=a.slice(I,I+6);throw new n('Invalid unicode character "'.concat(t,'"'),I)}(function t(){throw new n("Unexpected character ".concat(JSON.stringify(a[I])),I)})()}});